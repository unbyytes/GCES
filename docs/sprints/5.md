# üìù Relat√≥rio de Contribui√ß√£o ‚Äì Sprint 5

**Disciplina:** Gest√£o de Configura√ß√£o e Evolu√ß√£o de Software

**Equipe:** OWASP (Times Blue e Red)

**Per√≠odo da Sprint:** 19/11/2025 - 02/12/2025

---

## 1. Objetivos da Sprint

### Blue Team

**Consolida√ß√£o da Estrat√©gia de Defesa e Entrega Final (DevSecOps + Hardening)**

* **Implementa√ß√£o Definitiva do Pipeline:** Integrar o arsenal de ferramentas selecionado (Gitleaks, Semgrep, Pip-audit, Trivy) no ambiente oficial de CI/CD, garantindo a execu√ß√£o automatizada dos testes de seguran√ßa.
* **Endurecimento (Hardening):** Realizar a revis√£o cr√≠tica das configura√ß√µes da aplica√ß√£o (Django) e da infraestrutura (Docker), aplicando corre√ß√µes para reduzir a superf√≠cie de ataque e adequar o projeto √†s boas pr√°ticas de seguran√ßa.
* **An√°lise e Governan√ßa:** Consolidar todos os artefatos de seguran√ßa gerados ao longo do semestre (Modelagem de Amea√ßas, Relat√≥rios de Vulnerabilidades e Proposta de WAF) em uma entrega √∫nica e estruturada via Pull Request.

### Red Team

- Produ√ß√£o de relat√≥rio no formato MITRE ATT&CK sobre XSS  
- Cria√ß√£o de guia de contribui√ß√£o segura para Jinja2  

---

## 2. Entregas Coletivas

| Entrega | Status | Link/Refer√™ncia | Observa√ß√µes |
| :--- | :--- | :--- | :--- |
| Relat√≥rio MITRE ATT&CK & Guia de Contribui√ß√£o de Seguran√ßa para Jinja2 | Conclu√≠do | [Relat√≥rio](/docs/diarios/221008703/mitre-xss.md) & [Guia de Contribui√ß√£o](https://gitlab.com/pencillabs/ej/ej-application/-/merge_requests/395) | Red Team |
| **Modelagem de Amea√ßas (DFD + STRIDE)** | Conclu√≠do | `[Link para Issue/Relat√≥rio]` | BLue Team |
| **Sele√ß√£o e Defini√ß√£o do Arsenal de Seguran√ßa** | Conclu√≠do | `[Link para Issue/Doc]` | BLue Team |
| **Implementa√ß√£o do Pipeline DevSecOps (CI/CD)** | Conclu√≠do | `[Link para Issue/.gitlab-ci.yml]` | BLue Team |
| **Hardening de Aplica√ß√£o (Django) e Docker** | Conclu√≠do | `[Link para Issue/Doc]` | BLue Team |
| **Pull Request Master (Integra√ß√£o Total)** | Conclu√≠do | `[Link para o PR]` | BLue Team |
---

## 3. Contribui√ß√µes Individuais

| Integrante    | Contribui√ß√µes                                         | Links (PRs, Issues, Docs)                      | Observa√ß√µes |
| ------------- | ----------------------------------------------------- | --------------------------------------------- | ----------- |
| Mateus Vieira | Relat√≥rio MITRE ATT&CK da vulnerabilidade XSS         | [Relat√≥rio](/docs/diarios/221008703/mitre-xss.md)    |  |
| Mateus Vieira | Guia de Contribui√ß√£o de Seguran√ßa para Jinja2         | [MR #395](https://gitlab.com/pencillabs/ej/ej-application/-/merge_requests/395)    |  |
| Miguel Arthur | Mapeamento de Arquitetura e Modelagem de Amea√ßas (DFD + STRIDE)        | [ISSUE #1508](gitlab.com/pencillabs/ej/ej-application/-/issues?show=eyJpaWQiOiIxNTA4IiwiZnVsbF9wYXRoIjoicGVuY2lsbGFicy9lai9lai1hcHBsaWNhdGlvbiIsImlkIjoxNzc4OTc5MjJ9)    |  |


---

## 4. Maiores Avan√ßos

### Blue Team

**1. Maturidade em DevSecOps (Do Zero ao Pipeline Ativo)**
O maior avan√ßo desta sprint final foi transformar conceitos te√≥ricos em uma esteira de defesa funcional. Sa√≠mos de um projeto sem verifica√ß√µes de seguran√ßa para um pipeline robusto que audita automaticamente:
* **Segredos** (Gitleaks);
* **C√≥digo/SAST** (Semgrep);
* **Depend√™ncias** (Pip-audit);
* **Infraestrutura/IaC** (Trivy).

**2. Hardening e Cultura de Preven√ß√£o**
Al√©m de detectar falhas, a equipe avan√ßou para a camada de preven√ß√£o (*hardening*). A revis√£o das configura√ß√µes do Django e a refatora√ß√£o do Dockerfile para rodar sem privil√©gios de root demonstraram uma compreens√£o profunda de como mitigar riscos na arquitetura, indo al√©m do uso superficial de ferramentas.

**3. Integra√ß√£o Total via "Master PR"**
Conseguimos superar a fragmenta√ß√£o das tarefas individuais. A cria√ß√£o de um Pull Request unificado consolidou a modelagem de amea√ßas, a implementa√ß√£o t√©cnica e os relat√≥rios de an√°lise, entregando uma solu√ß√£o de seguran√ßa completa e documentada para o projeto EJ-Platform.

### Red Team

#### Relat√≥rio MITRE ATT&CK

Um relat√≥rio MITRE ATT&CK √© um documento ou registro que organiza e descreve informa√ß√µes sobre t√©cnicas, t√°ticas e procedimentos (TTPs) utilizados por agentes maliciosos (hackers, malware, grupos de APTs) para atacar sistemas de informa√ß√£o. Ele se baseia na matriz MITRE ATT&CK, que √© um framework amplamente utilizado em ciberseguran√ßa.

O relat√≥rio sobre a explora√ß√£o da falha de XSS na `ej-application` pode ser encontrado aqui: [Relat√≥rio](/docs/diarios/221008703/mitre-xss.md)

#### Guia de Contribui√ß√£o Jinja2

O Guia de Contribui√ß√£o foi criado para:

- Padronizar implementa√ß√µes seguras com Jinja2 no projeto.
- Alertar sobre o uso incorreto de filtros como `|safe`.
- Refor√ßar a necessidade de valida√ß√£o e sanitiza√ß√£o no backend.
- Oferecer exemplos seguros e inseguros para compara√ß√£o.
- Estabelecer diretrizes m√≠nimas para lidar com HTML din√¢mico.

[Guia de Contribui√ß√£o](https://gitlab.com/pencillabs/ej/ej-application/-/merge_requests/395)

---

## 5. Maiores Dificuldades

### Blue Team

* **Hardening em Aplica√ß√£o Existente:** Aplicar configura√ß√µes de seguran√ßa estritas (como desativar `DEBUG` ou alterar permiss√µes de usu√°rio no Docker) gerou conflitos de compatibilidade, exigindo testes manuais para n√£o quebrar funcionalidades do sistema.

* **Gest√£o de Falsos Positivos:** A ferramenta de an√°lise de depend√™ncias (`pip-audit`) apontou diversas vulnerabilidades em pacotes antigos, exigindo um esfor√ßo significativo de triagem manual para distinguir riscos reais de alertas n√£o explor√°veis.

* **Consolida√ß√£o de Artefatos:** Unificar entregas de naturezas muito distintas ‚Äî diagramas visuais (DFD), c√≥digo de pipeline (YAML) e relat√≥rios de texto ‚Äî em um √∫nico Pull Request coeso e organizado foi um desafio de documenta√ß√£o.
* 
### Red Team

- N√£o houve dificuldades durante o processo de estudo e documenta√ß√£o  

---

## 6. Li√ß√µes Aprendidas

### Blue Team

* **Seguran√ßa como C√≥digo (IaC):** Aprendemos que a seguran√ßa n√£o se limita ao c√≥digo da aplica√ß√£o; as configura√ß√µes de infraestrutura (`Dockerfile`) e do framework (`settings.py`) s√£o vetores cr√≠ticos que exigem versionamento e auditoria cont√≠nua.

* **O Valor do Shift-Left:** A implementa√ß√£o do pipeline confirmou que identificar vulnerabilidades (como chaves vazadas) no momento do *push* √© muito mais eficiente e menos custoso do que tentar remediar problemas em um software j√° constru√≠do.

* **Documenta√ß√£o √© Governan√ßa:** A necessidade de unificar o trabalho no PR final refor√ßou que, em seguran√ßa, a documenta√ß√£o t√©cnica (por que escolhemos tal ferramenta, como mitigamos tal risco) √© t√£o importante quanto a pr√≥pria implementa√ß√£o para garantir a continuidade do projeto.

### Red Team

- Uso do MITRE ATT&CK para estruturar relat√≥rios de vulnerabilidades  
- Como criar documenta√ß√£o de contribui√ß√£o focada em seguran√ßa (Jinja2)  
