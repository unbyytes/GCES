
# üìù Relat√≥rio de Contribui√ß√£o ‚Äì Sprint 4

**Disciplina:** Gest√£o de Configura√ß√£o e Evolu√ß√£o de Software

**Equipe:** OWASP (Times Blue e Red)

**Per√≠odo da Sprint:** 22/10/2025 - 11/11/2025

---

## 1. Objetivos da Sprint

#### Blue Team

### Red Team

- Continuidade dos ataques coordenados sobre e EJ
    - Session Hijacking
- Estudo sobre novas ferramentas de ataques e verifica√ß√£o
    - GoPhish
    - MailHog
- Contribui√ß√£o para solu√ß√£o do XSS

---

## 2. Entregas Coletivas

| Entrega             | Status (Conclu√≠do/Parcial/Pendente) | Link/Refer√™ncia        | Observa√ß√µes                       |
| ------------------- | ----------------------------------- | ---------------------- | --------------------------------- |
| Ataque de Session Hijacking sobre EJ | Conclu√≠do          |                        | Marcus V. & J√∫lio C√©sar           |

---

## 3. Contribui√ß√µes Individuais

| Integrante    | Contribui√ß√µes                             | Links (PRs, Issues, Docs) | Observa√ß√µes |
| ------------- | ----------------------------------------- | ------------------------- | ----------- |
| Mateus Vieira | Fix do XSS na plataforma EJ | [MR #392](https://gitlab.com/pencillabs/ej/ej-application/-/merge_requests/392)  |                           |

---

## 4. Maiores Avan√ßos

#### Blue Team

### Red Team

#### PR de fix sobre XSS

Tendo em vista a [Issue #1505](https://gitlab.com/pencillabs/ej/ej-application/-/issues/1505), o qual foi aberta durante a sprint 3, com o objetivo de reportar a falha de XSS identificada sobre a plataforma EJ. Agora, na sprint 4 foi realizado o MR com a proposta de solu√ß√£o para tal problema de vulnerabilidade, o mesmo pode ser identificado por: [MR #392](https://gitlab.com/pencillabs/ej/ej-application/-/merge_requests/392).

#### Solu√ß√£o do XSS

Ap√≥s estudos e testes, a solu√ß√£o foi implementada diretamente nos m√©todos *clean_welcome_message* e *clean_ending_message* do formul√°rio de conversa√ß√£o:

```python
def _clean_html_field(self, field_name):
    data = self.cleaned_data.get(field_name, "")
    return nh3.clean(
        data,
        attributes={
            "*": {"style", "href"}
        },
        filter_style_properties={"color", "font-weight", "text-align", "background-color"}
    )

def clean_welcome_message(self):
    return self._clean_html_field("welcome_message")

def clean_ending_message(self):
    return self._clean_html_field("ending_message")
```

---

## 5. Maiores Dificuldades

#### Blue Team

### Red Team

- N√£o foram identificadas dificuldades por parte do red team.

---

## 6. Li√ß√µes Aprendidas

#### Blue Team

### Red Team

- Realiza√ß√£o do ataque do tipo Session Hijacking
- Como utilizar bibliotecas de sanitiza√ß√£o de strings com HTML em Python para remover tags inseguras

---

## 7. Planejamento para a Pr√≥xima Sprint

#### Blue Team

### Red Team

* Ataque coordenado contra Blue Team:
    * Pipeline
* Documentar TTPs no formato MITRE ATT&CK
